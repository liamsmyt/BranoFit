<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>BranoFit - Product Request</title>
    <!-- Bootstrap -->
    <link href="bootstrap.min.css" rel="stylesheet" />
    <link href="styles.css" rel="stylesheet" />
    <!-- Google Font -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Bodoni+Moda+SC:ital,opsz,wght@0,6..96,400..900;1,6..96,400..900&family=Bodoni+Moda:ital,opsz,wght@0,6..96,400..900;1,6..96,400..900&family=New+Amsterdam&family=Nunito:ital,wght@0,200..1000;1,200..1000&display=swap"
      rel="stylesheet"
    />

    <!-- AOS -->
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet" />
    <!-- Favicon links -->
    <link rel="icon" href="BranoFitIcons/favicon.ico" type="image/x-icon" />
    <link
      rel="shortcut icon"
      href="BranoFitIcons/favicon.ico"
      type="image/x-icon"
    />
    <!-- For Apple devices -->
    <link rel="apple-touch-icon" href="BranoFitIcons/apple-touch-icon.png" />

    <meta
      property="og:image"
      content="https://liamsmyt.github.io/BranoFit/media/meta.jpeg"
    />
    <meta property="og:title" content="BranoFit" />
    <meta name="description" content="Personal Training Kildare" />
    <meta property="og:description" content="Personal Training Kildare" />
  </head>
  <body class="bg-light">
    <!-- Navbar to contain socials -->
    <div class="socials-bar sticky-top">
      <a href="https://www.instagram.com/_branofit._/" class="socials-link"
        >@_branofit._</a
      >
      <div class="centered-images"></div>
    </div>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg p-0 sticky-top">
      <div
        class="container-fluid d-flex justify-content-between align-items-center"
      >
        <div class="navbar-logo">
          <a class="navbar-brand d-flex align-items-middle" href="index.html">
            <img
              src="media/image0.jpeg"
              alt="Brand Logo"
              width="80"
              height="60"
              class="d-inline-block align-text-left ms-3 rounded"
            />
          </a>
        </div>

        <button
          class="navbar-toggler mx-3"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNavAltMarkup"
          aria-controls="navbarNavAltMarkup"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon">
            <span class="bar"></span>
          </span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
          <div class="navbar-nav mx-1">
            <a class="nav-link" href="index.html">Home</a>
            <a class="nav-link" href="about.html">About</a>
            <a class="nav-link" href="contact.html">Contact</a>
            <a class="nav-link" href="classes.html">Classes</a>
            <a class="nav-link selected" aria-current="page" href="merch.html"
              >Merch</a
            >
            <a class="nav-link" href="gallery.html">Gallery</a>
            <a class="nav-link" href="apply.html">Join Now</a>
          </div>
          <a
            class="btn ms-auto mx-1 d-none d-lg-block fs-md"
            id="customButton"
            href="testimonials.html"
            >Read Client Testimonials</a
          >
        </div>
      </div>
    </nav>

    <div class="container mt-5">
      <div class="row mx-1 mt-5">
        <div class="col-lg-12">
          <div class="bg-light rounded p-4">
            <h2 class="text-center class-card-title">BranoFit Merch</h2>
            <p class="lead text-center class-card-secondary">
              Select your preferred product, size, and specify when you want to
              pick it up
            </p>
            <!-- Product Image -->
            <div class="text-center mb-4">
              <img
                id="productImage"
                src="media/oversizedTee.jpg"
                alt="Product Image"
                class="img-fluid rounded"
                style="max-width: 90%"
              />
            </div>
            <!-- Product Request Form -->
            <form id="productRequestForm">
              <!-- Name Field -->
              <div class="mb-3">
                <label for="userName" class="form-label">Name</label>
                <input
                  type="text"
                  class="form-control"
                  id="userName"
                  name="name"
                  placeholder="Enter your name"
                  required
                />
              </div>

              <div class="mb-3">
                <label for="userPhone" class="form-label">Phone Number</label>
                <input
                  type="tel"
                  class="form-control"
                  id="userPhone"
                  name="phone"
                  placeholder="Enter your phone number"
                  required
                />
              </div>

              <!-- Existing form fields -->
              <div class="mb-3">
                <label for="productSelect" class="form-label"
                  >Select Product</label
                >
                <select
                  class="form-select form-control"
                  id="productSelect"
                  name="product"
                  required
                  onchange="updateProductImage(); updateProductSizes();"
                >
                  <option
                    value="BranoFit Oversized Tee - €20"
                    data-image="media/oversizedTee.jpg"
                  >
                    BranoFit Oversized Tee - €20
                  </option>
                  <option
                    value="BranoFit Signature Workout Tee - €16"
                    data-image="media/fitTee.jpg"
                  >
                    BranoFit Signature Workout Tee - €16
                  </option>
                  <option
                    value="BranoFit Varsity Hoodie - €30"
                    data-image="media/hoodie.jpg"
                  >
                    BranoFit Varsity Hoodie - €30
                  </option>
                  <option
                    value="BranoFit Crewneck - €30"
                    data-image="media/crewneck.jpg"
                  >
                    BranoFit Crewneck - €30
                  </option>
                  <option
                    value="BranoFit Halfzip(Male) - €40"
                    data-image="media/halfzipMale.png"
                  >
                    BranoFit Halfzip(Male) - €40
                  </option>
                  <option
                    value="BranoFit Halfzip(Female) - €40"
                    data-image="media/halfzipMale.png"
                  >
                    BranoFit Halfzip(Female) - €40
                  </option>
                  <option
                    value="BranoFit Ladies Vest - €16"
                    data-image="media/vest.png"
                  >
                    BranoFit Ladies Vest - €16
                  </option>
                </select>
              </div>
              <div class="mb-3">
                <label for="productSize" class="form-label">Size</label>
                <select
                  class="form-select form-control"
                  id="productSize"
                  name="size"
                  required
                >
                  <option value="" disabled selected>Select a size</option>
                  <!-- Sizes will be dynamically populated by JavaScript -->
                </select>
              </div>
              <div class="mb-3">
                <label for="pickupTime" class="form-label">Pickup Time</label>
                <input
                  type="text"
                  class="form-control"
                  id="pickupTime"
                  name="pickupTime"
                  placeholder="Enter pickup time ( e.g. Thurles Bootcamp this Thursday )"
                  required
                />
              </div>
              <button type="submit" class="btn" id="customButton">
                Send Request
              </button>
            </form>
          </div>
        </div>
      </div>
    </div>

    <footer class="text-center py-3 footer mx-5">&copy; LSWebDesign.</footer>

    <script>
      function updateProductImage() {
        const productSelect = document.getElementById("productSelect");
        const productImage = document.getElementById("productImage");
        const selectedOption =
          productSelect.options[productSelect.selectedIndex];
        const imageUrl = selectedOption.getAttribute("data-image");

        if (imageUrl) {
          productImage.src = imageUrl;
        }
      }

      function updateProductSizes() {
        const productSelect = document.getElementById("productSelect");
        const productSize = document.getElementById("productSize");
        const selectedProduct = productSelect.value;

        // Clear current size options
        productSize.innerHTML =
          '<option value="" disabled selected>Select a size</option>';

        if (
          selectedProduct.includes("Halfzip(Female)") ||
          selectedProduct.includes("Ladies")
        ) {
          // Set specific sizes for Halfzip(Female)
          const halfzipFemaleSizes = ["XS", "S", "M", "L", "XL"];
          halfzipFemaleSizes.forEach((size) => {
            const option = document.createElement("option");
            option.value = size;
            option.textContent = size;
            productSize.appendChild(option);
          });
        } else if (selectedProduct.includes("Halfzip(Male)")) {
          // Set specific sizes for Halfzip(Male)
          const halfzipMaleSizes = ["S", "M", "L", "XL", "XXL"];
          halfzipMaleSizes.forEach((size) => {
            const option = document.createElement("option");
            option.value = size;
            option.textContent = size;
            productSize.appendChild(option);
          });
        } else if (selectedProduct.includes("Signature Workout Leggings")) {
          // Set specific sizes for Women's Signature Workout Leggings
          const leggingsSizes = [
            "XS",
            "S",
            "M",
            "L",
            "XL",
            "2XL",
            "3XL",
            "4XL",
          ];
          leggingsSizes.forEach((size) => {
            const option = document.createElement("option");
            option.value = size;
            option.textContent = size;
            productSize.appendChild(option);
          });
        } else if (selectedProduct.includes("Everyday Leggings")) {
          // Set specific sizes for Women's Everyday Leggings
          const everydayLeggingsSizes = ["XS", "S", "M", "L", "XL"];
          everydayLeggingsSizes.forEach((size) => {
            const option = document.createElement("option");
            option.value = size;
            option.textContent = size;
            productSize.appendChild(option);
          });
        } else {
          // Set default sizes for other products
          const defaultSizes = ["XS", "S", "M", "L", "XL", "XXL"];
          defaultSizes.forEach((size) => {
            const option = document.createElement("option");
            option.value = size;
            option.textContent = size;
            productSize.appendChild(option);
          });
        }
      }

      // Run function on page load
      document.addEventListener("DOMContentLoaded", updateProductSizes);

      // Update sizes on product selection change
      document
        .getElementById("productSelect")
        .addEventListener("change", updateProductSizes);
    </script>

    <!-- EmailJS Script -->
    <script
      type="text/javascript"
      src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"
    ></script>
    <script type="text/javascript">
      (function () {
        emailjs.init({
          publicKey: "LiRwygA2lBvcrw_3E", // Your public key
        });
      })();

      document
        .getElementById("productRequestForm")
        .addEventListener("submit", function (event) {
          event.preventDefault(); // Prevent default form submission

          const serviceID = "service_kuln9ss"; // Your service ID
          const templateID = "template_qj62su8"; // Your product request template ID

          // Collect form data
          const params = {
            name: document.getElementById("userName").value,
            number: document.getElementById("userPhone").value,
            product: document.getElementById("productSelect").value,
            size: document.getElementById("productSize").value,
            pickupTime: document.getElementById("pickupTime").value,
          };

          // Send email with parameters
          emailjs.send(serviceID, templateID, params).then(
            () => {
              alert("Request sent! We'll be in touch to confirm your order.");
              this.reset(); // Reset the form after submission
            },
            (err) => {
              console.error("Failed to send request.", err);
              alert("Failed to send request.\n " + JSON.stringify(err));
            }
          );
        });

      function updateProductImage() {
        const productSelect = document.getElementById("productSelect");
        const selectedOption =
          productSelect.options[productSelect.selectedIndex];
        const newImageSrc = selectedOption.getAttribute("data-image");
        document.getElementById("productImage").src = newImageSrc;
      }
    </script>

    <!-- Bootstrap -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous"
    ></script>

    <!-- AOS -->
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>

    <script>
      AOS.init();
    </script>
  </body>
</html>
